{"ast":null,"code":"var _jsxFileName = \"/home/b0l0777/Documents/React-Aula/src/hooks/CarrinhoContext.js\",\n  _s = $RefreshSig$();\nimport { createContext, useEffect, useState } from \"react\";\nimport { toast } from \"react-toastify\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport const CarrinhoContext = /*#__PURE__*/createContext();\nfunction CarrinhoContextProvider({\n  children\n}) {\n  _s();\n  const [listaProdutosCarrinho, setListaProdutosCarrinho] = useState([]);\n  useEffect(() => {\n    buscarProdutosLocaStorage();\n  }, []);\n  function buscarProdutosLocaStorage() {\n    const produtosLocalStorage = localStorage.getItem(\"carrinho_produtos\");\n    if (produtosLocalStorage) {\n      const produtosProdutos = JSON.parse(produtosLocalStorage);\n      setListaProdutosCarrinho(produtosProdutos);\n    }\n  }\n  function salvarProdutos(lista) {\n    setListaProdutosCarrinho(lista);\n    const listaDeProdutos = JSON.stringify(lista);\n    localStorage.setItem(\"carrinho_produtos\", listaDeProdutos);\n  }\n  const adicionarCarrinho = async produto => {\n    const qtdProdutosNoCarrinho = listaProdutosCarrinho.filter(item => item.idProduto == produto.idProduto);\n    if (qtdProdutosNoCarrinho.length > 0) {\n      return toast.error(\"Produto já esta no seu carrinho\", {\n        position: \"top-center\",\n        autoClose: 5000,\n        hideProgressBar: false,\n        closeOnClick: true,\n        pauseOnHover: true,\n        draggable: true,\n        progress: undefined,\n        theme: \"light\"\n      });\n    }\n    const listaProdutosAtualizado = [produto, ...listaProdutosCarrinho];\n    salvarProdutos(listaProdutosAtualizado);\n  };\n  function removerProduto(idProduto) {\n    const listaProdutosAtualizado = listaProdutosCarrinho.filter(item => item.idProduto != idProduto);\n    salvarProdutos(listaProdutosAtualizado);\n  }\n  return /*#__PURE__*/_jsxDEV(CarrinhoContext.Provider, {\n    value: {\n      listaProdutosCarrinho,\n      adicionarCarrinho,\n      removerProduto\n    },\n    children: children\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 56,\n    columnNumber: 5\n  }, this);\n}\n_s(CarrinhoContextProvider, \"V8wfgHgzlZ1AhIn5tPQPbLYCWLY=\");\n_c = CarrinhoContextProvider;\nexport default CarrinhoContextProvider;\nvar _c;\n$RefreshReg$(_c, \"CarrinhoContextProvider\");","map":{"version":3,"names":["createContext","useEffect","useState","toast","jsxDEV","_jsxDEV","CarrinhoContext","CarrinhoContextProvider","children","_s","listaProdutosCarrinho","setListaProdutosCarrinho","buscarProdutosLocaStorage","produtosLocalStorage","localStorage","getItem","produtosProdutos","JSON","parse","salvarProdutos","lista","listaDeProdutos","stringify","setItem","adicionarCarrinho","produto","qtdProdutosNoCarrinho","filter","item","idProduto","length","error","position","autoClose","hideProgressBar","closeOnClick","pauseOnHover","draggable","progress","undefined","theme","listaProdutosAtualizado","removerProduto","Provider","value","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["/home/b0l0777/Documents/React-Aula/src/hooks/CarrinhoContext.js"],"sourcesContent":["import { createContext, useEffect, useState } from \"react\";\nimport { toast } from \"react-toastify\";\n\nexport const CarrinhoContext = createContext();\n\nfunction CarrinhoContextProvider({ children }) {\n  const [listaProdutosCarrinho, setListaProdutosCarrinho] = useState([]);\n\n  useEffect(() => {\n    buscarProdutosLocaStorage();\n  }, []);\n  function buscarProdutosLocaStorage() {\n    const produtosLocalStorage = localStorage.getItem(\"carrinho_produtos\");\n\n    if (produtosLocalStorage) {\n      const produtosProdutos = JSON.parse(produtosLocalStorage);\n      setListaProdutosCarrinho(produtosProdutos);\n    }\n  }\n\n  function salvarProdutos(lista) {\n    setListaProdutosCarrinho(lista);\n    const listaDeProdutos = JSON.stringify(lista);\n    localStorage.setItem(\"carrinho_produtos\", listaDeProdutos);\n  }\n\n  const adicionarCarrinho = async (produto) => {\n    const qtdProdutosNoCarrinho = listaProdutosCarrinho.filter(\n      (item) => item.idProduto == produto.idProduto\n    );\n    if (qtdProdutosNoCarrinho.length > 0) {\n      return toast.error(\"Produto já esta no seu carrinho\", {\n        position: \"top-center\",\n        autoClose: 5000,\n        hideProgressBar: false,\n        closeOnClick: true,\n        pauseOnHover: true,\n        draggable: true,\n        progress: undefined,\n        theme: \"light\",\n      });\n    }\n\n    const listaProdutosAtualizado = [produto, ...listaProdutosCarrinho];\n    salvarProdutos(listaProdutosAtualizado);\n  };\n  function removerProduto(idProduto) {\n    const listaProdutosAtualizado = listaProdutosCarrinho.filter(\n      (item) => item.idProduto != idProduto\n    );\n\n    salvarProdutos(listaProdutosAtualizado);\n  }\n\n  return (\n    <CarrinhoContext.Provider\n      value={{ listaProdutosCarrinho, adicionarCarrinho, removerProduto }}\n    >\n      {children}\n    </CarrinhoContext.Provider>\n  );\n}\n\nexport default CarrinhoContextProvider;\n"],"mappings":";;AAAA,SAASA,aAAa,EAAEC,SAAS,EAAEC,QAAQ,QAAQ,OAAO;AAC1D,SAASC,KAAK,QAAQ,gBAAgB;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAEvC,OAAO,MAAMC,eAAe,gBAAGN,aAAa,CAAC,CAAC;AAE9C,SAASO,uBAAuBA,CAAC;EAAEC;AAAS,CAAC,EAAE;EAAAC,EAAA;EAC7C,MAAM,CAACC,qBAAqB,EAAEC,wBAAwB,CAAC,GAAGT,QAAQ,CAAC,EAAE,CAAC;EAEtED,SAAS,CAAC,MAAM;IACdW,yBAAyB,CAAC,CAAC;EAC7B,CAAC,EAAE,EAAE,CAAC;EACN,SAASA,yBAAyBA,CAAA,EAAG;IACnC,MAAMC,oBAAoB,GAAGC,YAAY,CAACC,OAAO,CAAC,mBAAmB,CAAC;IAEtE,IAAIF,oBAAoB,EAAE;MACxB,MAAMG,gBAAgB,GAAGC,IAAI,CAACC,KAAK,CAACL,oBAAoB,CAAC;MACzDF,wBAAwB,CAACK,gBAAgB,CAAC;IAC5C;EACF;EAEA,SAASG,cAAcA,CAACC,KAAK,EAAE;IAC7BT,wBAAwB,CAACS,KAAK,CAAC;IAC/B,MAAMC,eAAe,GAAGJ,IAAI,CAACK,SAAS,CAACF,KAAK,CAAC;IAC7CN,YAAY,CAACS,OAAO,CAAC,mBAAmB,EAAEF,eAAe,CAAC;EAC5D;EAEA,MAAMG,iBAAiB,GAAG,MAAOC,OAAO,IAAK;IAC3C,MAAMC,qBAAqB,GAAGhB,qBAAqB,CAACiB,MAAM,CACvDC,IAAI,IAAKA,IAAI,CAACC,SAAS,IAAIJ,OAAO,CAACI,SACtC,CAAC;IACD,IAAIH,qBAAqB,CAACI,MAAM,GAAG,CAAC,EAAE;MACpC,OAAO3B,KAAK,CAAC4B,KAAK,CAAC,iCAAiC,EAAE;QACpDC,QAAQ,EAAE,YAAY;QACtBC,SAAS,EAAE,IAAI;QACfC,eAAe,EAAE,KAAK;QACtBC,YAAY,EAAE,IAAI;QAClBC,YAAY,EAAE,IAAI;QAClBC,SAAS,EAAE,IAAI;QACfC,QAAQ,EAAEC,SAAS;QACnBC,KAAK,EAAE;MACT,CAAC,CAAC;IACJ;IAEA,MAAMC,uBAAuB,GAAG,CAAChB,OAAO,EAAE,GAAGf,qBAAqB,CAAC;IACnES,cAAc,CAACsB,uBAAuB,CAAC;EACzC,CAAC;EACD,SAASC,cAAcA,CAACb,SAAS,EAAE;IACjC,MAAMY,uBAAuB,GAAG/B,qBAAqB,CAACiB,MAAM,CACzDC,IAAI,IAAKA,IAAI,CAACC,SAAS,IAAIA,SAC9B,CAAC;IAEDV,cAAc,CAACsB,uBAAuB,CAAC;EACzC;EAEA,oBACEpC,OAAA,CAACC,eAAe,CAACqC,QAAQ;IACvBC,KAAK,EAAE;MAAElC,qBAAqB;MAAEc,iBAAiB;MAAEkB;IAAe,CAAE;IAAAlC,QAAA,EAEnEA;EAAQ;IAAAqC,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACe,CAAC;AAE/B;AAACvC,EAAA,CAxDQF,uBAAuB;AAAA0C,EAAA,GAAvB1C,uBAAuB;AA0DhC,eAAeA,uBAAuB;AAAC,IAAA0C,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}